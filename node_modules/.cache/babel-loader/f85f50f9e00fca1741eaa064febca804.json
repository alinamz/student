{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._baseUrl = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  _fetch(partUrl) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    return fetch(`${this._baseUrl}${partUrl}`, {\n      headers: this._headers,\n      method: method,\n      body: body\n    }).then(res => {\n      if (res.ok) return res.json();\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  registrationUser(passwordUser, emailUser) {\n    return fetch(\"https://api.nomoreparties.co\\signup\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password: passwordUser,\n        email: emailUser\n      })\n    }).then(res => {\n      if (res.ok) return res.json();\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getInitalCards() {\n    return this._fetch(`/cards`);\n  }\n\n  getUserData() {\n    return this._fetch('/users/me');\n  }\n\n  changeUserData(nameUser, aboutUser) {\n    return this._fetch('/users/me', 'PATCH', JSON.stringify({\n      name: nameUser,\n      about: aboutUser\n    }));\n  }\n\n  addNewCard(nameCard, linkCard) {\n    return this._fetch(\"/cards\", \"POST\", JSON.stringify({\n      name: nameCard,\n      link: linkCard\n    }));\n  }\n\n  deleteCard(cardId) {\n    return this._fetch(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  addLike(card) {\n    return this._fetch(`/cards/${card._cardID}/likes`, \"PUT\");\n  }\n\n  removeLike(card) {\n    return this._fetch(`/cards/${card._cardID}/likes`, \"DELETE\");\n  }\n\n  setProfileAvatar(avatarLink) {\n    const obj = {\n      \"avatar\": avatarLink\n    };\n    return this._fetch('/users/me/avatar', 'PATCH', JSON.stringify(obj));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._fetch(`/cards/${cardId}/likes`, \"PUT\");\n    } else {\n      return this._fetch(`/cards/${cardId}/likes`, \"DELETE\");\n    }\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-48',\n  headers: {\n    authorization: \"7d67df57-04a3-4c0e-b94c-731b56c35104\",\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","config","_baseUrl","baseUrl","_headers","headers","_fetch","partUrl","method","body","fetch","then","res","ok","json","Promise","reject","status","registrationUser","passwordUser","emailUser","JSON","stringify","password","email","getInitalCards","getUserData","changeUserData","nameUser","aboutUser","name","about","addNewCard","nameCard","linkCard","link","deleteCard","cardId","addLike","card","_cardID","removeLike","setProfileAvatar","avatarLink","obj","changeLikeCardStatus","isLiked","api","authorization"],"sources":["/home/alina/dev/prob/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor(config) {\n        this._baseUrl = config.baseUrl;\n        this._headers = config.headers;\n    }\n\n    _fetch(partUrl, method = 'GET', body = null) {\n        return fetch(`${this._baseUrl}${partUrl}`, {\n            headers: this._headers,\n            method: method,\n            body: body\n        })\n            .then(res => {\n                if (res.ok) return res.json();\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n\n    registrationUser(passwordUser, emailUser) {\n        return fetch(\"https://api.nomoreparties.co\\signup\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ password: passwordUser, email: emailUser })\n        })\n        .then(res => {\n            if (res.ok) return res.json();\n            return Promise.reject(`Ошибка: ${res.status}`);\n        })\n    }\n\n    getInitalCards() {\n        return this._fetch(`/cards`);\n    }\n\n    getUserData() {\n        return this._fetch('/users/me');\n    }\n\n    changeUserData(nameUser, aboutUser) {\n        return this._fetch(\n            '/users/me',\n            'PATCH',\n            JSON.stringify({\n                name: nameUser,\n                about: aboutUser\n            }))\n    }\n\n    addNewCard(nameCard, linkCard) {\n        return this._fetch(\n            \"/cards\",\n            \"POST\",\n            JSON.stringify({\n                name: nameCard,\n                link: linkCard\n            }))\n    }\n\n    deleteCard(cardId) {\n        return this._fetch(\n            `/cards/${cardId}`,\n            \"DELETE\"\n        )\n    }\n\n    addLike(card) {\n        return this._fetch(\n            `/cards/${card._cardID}/likes`,\n            \"PUT\");\n    }\n\n    removeLike(card) {\n        return this._fetch(\n            `/cards/${card._cardID}/likes`,\n            \"DELETE\");\n    }\n\n    setProfileAvatar(avatarLink) {\n        const obj = { \"avatar\": avatarLink };\n        return this._fetch(\n            '/users/me/avatar',\n            'PATCH',\n            JSON.stringify(obj))\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (isLiked) {\n            return this._fetch(\n                `/cards/${cardId}/likes`,\n                \"PUT\");\n        } else {\n            return this._fetch(\n                `/cards/${cardId}/likes`,\n                \"DELETE\");\n        }\n    }\n\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-48',\n    headers: {\n        authorization: \"7d67df57-04a3-4c0e-b94c-731b56c35104\",\n        'Content-Type': 'application/json',\n    },\n});\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}